<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labelle & Co</title>
    <link rel="stylesheet" href="index.css">
</head>
<body onload="loadPage('main.html'); ready()">
    <!-- Navigation Bar -->
    <nav>
        <div class="logo" id="logo">Labelle & Co</div>
        <a href="#contactinfo">Home</a></li>
        <a href="#Products">Products</a></li>
        <div class="searchbar">
            <input type="text" id="searchbox" placeholder="Search">
            <button id="searchenter" onclick="search()">Go!</button>
            <button id="searchback" onclick="searchback()">Back</button>
        </div>
        <button id="button">Shop
            <div class="dropdownstuff" id="category-dropdown">
                <!-- Categories will be inserted here -->
            </div>
        </button>
        <button class="cart-button" onclick="toggleCart()">Cart</button>
    </nav>

    <!-- Contact Info -->
    <div class="contactinfo" id="contactinfo">
        <h1>Contact us at</h1>
        <p>Email: shoplabelleandco@yahoo.com</p>
        <p>Phone: (804)-655-2131</p>
        <p>Address: 8906 W Broad St Suite J, Henrico, VA 23294</p>
        <br>
        <a href="https://qr.koalafi.com/a4ff0cb6-00d5-4f53-80fd-1c5700c398d7">Koalafi</a>
        <a href="https://www.instagram.com/labelleandcompany?igsh=MWN4M2l2dndzejJxdA%3D%3D&utm_source=qr">Instagram</a>
        <a href="https://www.facebook.com/LabelleandCo?mibextid=ViGcVu">Facebook</a>
    </div>

    <!-- Sale Section -->
    <div class="sale-tile">
        <h1>Catch these end-of-the-month sales before they are gone!</h1>
        <div class="sale-item">
            <img src="Images/petitebuffetsale.jpg" alt="Petite Buffet Sale" />
            <div class="sale-details">
                <p>Petite buffet <strong>$299</strong> <del>$329</del></p>
            </div>
        </div>
        <div class="sale-item">
            <img src="Images/rusticbookshelfsale.jpg" alt="Rustic Bookshelf Sale" />
            <div class="sale-details">
                <p>Rustic bookshelf <strong>$99</strong> <del>$120</del></p>
            </div>
        </div>
    </div>

    <h2 style="color: red; text-align: center; margin: 10px;">NO REFUNDS MAY BE MADE</h2>

    <!-- Dynamic Page Content -->
    <div class="container" id="pagestuff">
        <!-- the pages will go here -->
    </div>

    <!-- Cart Panel -->
    <div id="cart-panel" class="cart-panel">
        <div class="cart-content">
            <h2>Your Cart</h2>
            <ul id="cartItems"></ul>
            <p id="totalAmount">Total: $0.00</p>
            <form id="cartForm">
                <input class="form" type="text" id="nameinput" placeholder="Name" required>
                <input class="form" type="tel" id="phone" placeholder="Phone Number (xxx-xxx-xxxx)" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}">
                <input class="form" type="email" id="email" placeholder="Email">
                <br>
                <input class="pay" type="button" value="Place Hold" onclick="pay(event, 'hold')">
                <input class="pay" type="button" value="Buy Now" onclick="pay(event, 'buy')">
                <br>
                <button class="close-cart-button" onclick="toggleCart()">Close</button>
                <button class="cancel-cart-button" onclick="cancelCart()">Cancel</button>
                <div id="error-message" style="margin: 10px 0;"></div>
            </form>

            <div id="checkout">
                <!-- Checkout will insert the payment form here -->
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Labelle & Co. All Rights Reserved.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://js.stripe.com/basil/stripe.js"></script>
    <script src="index.js"></script>

    <div id="loading-overlay" style="
        position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:9999;
        background:rgba(255,255,255,0.8);display:none;align-items:center;justify-content:center;
        flex-direction:column;transition:opacity 0.3s;">
        <div style="font-size:2rem;color:#333;" id="loading-text">Loading...</div>
        <div id="loading-error" style="color:#c00;font-size:1.2rem;margin-top:16px;display:none;"></div>
        <button id="loading-error-close" style="display:none;margin-top:12px;" onclick="hideLoadingError()">Close</button>
    </div>
</body>
</html>